<%- include('../includes/head.ejs') %>
  <%- include('../includes/header.ejs') %>
    <div class="container">
      <h1>JSON Results</h1>
      <div class="container-fluid">
        <div class="row">
        <% for(var i=0; i<data.length; i++) {%>
           
          <% if(i % 3 == 0) { %>
            
          <% } %>
        
            <div class="card border-primary m-2 col-md-3"  >
                <div class="card-header text-center"><h4><b><%= data[i].name %></b></h4></div>
                <div class="card-body">
              <img src="<%= data[i].imageUrl %>" alt="t" class="cardImg" style="width:100%;">
              <div class="cardContainer mt-2 text-justify">
                <h5><%= data[i].price %></h5>
                <p><%= data[i].description %></p>
                </div>
              </div>
            </div>

          <% if(i % 3 == 2) { %>
            <div class="row">
          </div> 
          <% } %>  
     
        <% } %>
    </div>          
</div>
    
    </div>
    <!-- Pagination button generation -->
    <form class="actions container pagination">
      <% for(var i = 1; i <= numPages; i++) { %>
      <a href="?page=<%= i %><%= (searchedValue) ? `&searchValue=${searchedValue}` :  "" %>" class="btn <%= (page==i) ? 'btn-primary' : 'btn-default' %>"><%= i %></a>
      <% } %>
    </div>
    <%- include('../includes/footer.ejs') %>